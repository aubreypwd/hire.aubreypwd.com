{% if include.sidebar or page.sidebar or page.sidebar == nil %}
	<div class="resume-sidebar d-flex flex-column position-sticky mt-auto mb-auto wow bounceInLeft d-none d-lg-block"
		data-wow-duration="0.8s"
		data-wow-delay="0.5s">
		<div class="theiaStickySidebar">
			<div class="resume-info round50 d-flex flex-column position-relative justify-content-between w-100">

				<!-- User Image -->
				{% if include.user_image_src or page.sidebar.user_image_src %}
					<div class="user-img round40 overflow-hidden position-relative w-100 mb-0">
						<img class="img-fluid w-100"
								 src="{{ include.user_image_src | default: page.sidebar.user_image_src | default: 'assets/images/resources/user-img.png' }}"
								 alt="{{ include.user_image_alt | default: page.sidebar.user_image_alt | default: 'Profile Image' }}"
								 loading="lazy">
					</div>
				{% endif %}

				<!-- Messages -->
				{% assign messages = include.messages | default: page.sidebar.messages | default: site.sidebar.messages %}
				{% if messages %}
					<div class="overflow-auto chat" id="chat">
						<div class="mine messages">
							{% for msg in messages %}
								{% assign delay = forloop.index0 | times: 5 %}
								{% assign animate =
									page.sidebar.animate_messages
									| default: include.animate_messages
									| default: site.sidebar.animate_messages
								%}
								<div class="message last {% if animate != false %}wow{% endif %} fadeIn"
									data-wow-duration="0.2s"
									data-wow-delay="{{ delay }}s">
									{{ msg | markdownify | remove: '<p>' | remove: '</p>' }}
								</div>
							{% endfor %}
						</div>

						<script>
							document.addEventListener("DOMContentLoaded", () => {
								const messages = document.querySelectorAll(".message.wow");
								const chat = document.getElementById("chat");

								messages.forEach((el, index) => {
									el.addEventListener("animationend", () => {

										chat.scrollTo({
											top: el.offsetTop
												- chat.scrollHeight
												- el.getBoundingClientRect().height
												- 20,
											behavior: "smooth"
										});
									}, { once: true });
								});
							});
							</script>
					</div>
				{% else %}
					<!-- No Messages -->
				{% endif %}

				<div class="user-info d-flex flex-column align-items-start w-100 hidden">
					<p><a href="mailto:hello@ikonicwebs.co" class="underline" title="">{{ site.email }}</a></p>
				</div><!-- User Info -->

				<!-- Social links -->
				{% if include.social or page.sidebar.social %}
					<div class="user-social-wrap d-flex align-items-center justify-content-between position-relative w-100">
						<div class="social-links d-flex align-items-center gap-1 w-100 justify-content-between">
							{% assign socials = include.social | default: page.sidebar.social %}
							{% if socials %}
								{% for item in socials %}
									<a href="{{ item.url }}" title="{{ item.name }}" target="_blank" rel="noopener">
										<i class="fab fa-{{ item.fa }}"></i>
									</a>
								{% endfor %}
							{% endif %}
						</div>
					</div>
				{% endif %}

			</div>
		</div>
	</div>
{% endif %}